<!DOCTYPE html>
<html>

<head>
	<title>Hyper 3D N-back</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no">
	<meta name="mobile-web-app-capable" content="yes">
	<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
	<link rel="stylesheet" href="styles.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>

<body>

	<dialog id="recap-dialog">
		<label class="close-button" onClick="recapDialogContent.parentElement.close()">
			<i class="bi bi-x-lg"></i>
		</label>

  		<div class="dialog-content">
			<div id="res-dim" style="font-size: 2.5rem; text-align: center; color: #fffd;">1D</div>

			<div class="stats-cards" style="font-size: 1.75rem; margin-top: 2rem;">
				<div class="stats-card">
					<div class="stats-card-title">Right</div>
					<div id="sc-res-right" class="stats-card-value">0</div>
				</div>
				<div class="stats-card">
					<div class="stats-card-title">Missed</div>
					<div id="sc-res-missed" class="stats-card-value">0</div>
				</div>
				<div class="stats-card">
					<div class="stats-card-title">Wrong</div>
					<div id="sc-res-wrong" class="stats-card-value">0</div>
				</div>
			</div>

			<div style="text-align: center; margin-top: 2rem; font-size: 2.5rem;">
				<div class="lvl-res-move">N = <span class="lvl-before">1</span> <i class="bi bi-arrow-right"> </i><span class="lvl-after" style="font-size: 4rem;">2</span></div>
				<div class="lvl-res-stay">N = <span class="lvl-stays">1</span></div>
			</div>
		</div>
	</dialog>

	<dialog id="stats-dialog">
		<label class="close-button" onClick="statsDialogContent.parentElement.close()">
			<i class="bi bi-x-lg"></i>
		</label>

  		<div class="dialog-content">
			<div class="radio-dimensions">
				<label class="radio-dimension">
					<input type="radio" name="dimension" value="1" hidden>
					<div>1D</div>
				</label>
				<label class="radio-dimension">
					<input type="radio" name="dimension" value="2" hidden>
					<div>2D</div>
				</label>
				<label class="radio-dimension">
					<input type="radio" name="dimension" value="3" hidden>
					<div>3D</div>
				</label>
				<label class="radio-dimension">
					<input type="radio" name="dimension" value="4" hidden>
					<div>4D</div>
				</label>
				<label class="radio-dimension">
					<input type="radio" name="dimension" value="5" hidden>
					<div>5D</div>
				</label>
				<label class="radio-dimension">
					<input type="radio" name="dimension" value="6" hidden>
					<div>6D</div>
				</label>
				<label class="radio-dimension">
					<input type="radio" name="dimension" value="7" hidden>
					<div>7D</div>
				</label>
				<label class="radio-dimension">
					<input type="radio" name="dimension" value="8" hidden>
					<div>8D</div>
				</label>
				<label class="radio-dimension">
					<input type="radio" name="dimension" value="9" hidden>
					<div>9D</div>
				</label>
			</div>

			<div class="stats-cards">
				<div class="stats-card">
					<div class="stats-card-title">Avg N</div>
					<div id="sc-avg" class="stats-card-value">-</div>
				</div>
				<div class="stats-card">
					<div class="stats-card-title">Max N</div>
					<div id="sc-max" class="stats-card-value">-</div>
				</div>
				<div class="stats-card">
					<div class="stats-card-title">Right</div>
					<div id="sc-right" class="stats-card-value">-</div>
				</div>
				<div class="stats-card">
					<div class="stats-card-title">Missed</div>
					<div id="sc-missed" class="stats-card-value">-</div>
				</div>
				<div class="stats-card">
					<div class="stats-card-title">Wrong</div>
					<div id="sc-wrong" class="stats-card-value">-</div>
				</div>
			</div>

			<div class="bar-chart-wrap">
				<div class="bar-chart">
					<div class="bar-chart-axis">
						<div>9</div>
						<div>8</div>
						<div>7</div>
						<div>6</div>
						<div>5</div>
						<div>4</div>
						<div>3</div>
						<div>2</div>
						<div>1</div>
					</div>
					<div class="bar-chart-bars">
						<!--Bars will appear here-->
					</div>
				</div>
				<div class="bar-chart-title">N over time (1 bar = 1 day)</div>
			</div>
		</div>
	</dialog>
	
	<input hidden id="settings-open" type="checkbox">
	<div class="settings-wrapper">
	  <label for="settings-open"></label>
	  <div class="settings">
		<div class="setting">
		  <label>Enable Stimuli</label>
		  <div class="subsettings-list">
			<input class="toggle-trigger" hidden id="enable-walls" type="checkbox" checked>
			<label class="toggle-btn" for="enable-walls">Walls</label>
			<input class="toggle-trigger" hidden id="enable-camera" type="checkbox" checked>
			<label class="toggle-btn" for="enable-camera">Camera</label>
			<input class="toggle-trigger" hidden id="enable-face" type="checkbox" checked>
			<label class="toggle-btn" for="enable-face">Face</label>
			<input class="toggle-trigger" hidden id="enable-spatial" type="checkbox" checked>
			<label class="toggle-btn" for="enable-spatial">Spatial</label>
			<input class="toggle-trigger" hidden id="enable-word" type="checkbox" checked>
			<label class="toggle-btn" for="enable-word">Word</label>
			<input class="toggle-trigger" hidden id="enable-shape" type="checkbox" checked>
			<label class="toggle-btn" for="enable-shape">Shape</label>
			<input class="toggle-trigger" hidden id="enable-corner" type="checkbox" checked>
			<label class="toggle-btn" for="enable-corner">Corner</label>
			<input class="toggle-trigger" hidden id="enable-sound" type="checkbox" checked>
			<label class="toggle-btn" for="enable-sound">Sound</label>
			<input class="toggle-trigger" hidden id="enable-color" type="checkbox" checked>
			<label class="toggle-btn" for="enable-color">Color</label>
		  </div>
		</div>
		<div class="setting">
			<button id="open-stats" class="setting-btn">Open Statistics</button>
		</div>
		<div class="setting">
			<label>N Back Level</label>
			<input id="n-level" type="text" placeholder="1">
		  </div>
		<div class="setting">
		  <label>Scene Dimmer</label>
		  <input id="scene-dimmer" type="text" placeholder="0.5">
		</div>
		<div class="setting">
		  <label>Zoom</label>
		  <input id="zoom" type="text" placeholder="0.8">
		</div>
		<div class="setting">
		  <label>Perspective</label>
		  <input id="perspective" type="text" placeholder="15">
		</div>
		<div class="setting">
		  <label>Target Number of Stimuli</label>
		  <input id="targetStimuli" type="text" placeholder="9">
		</div>
		<div class="setting">
		  <label>Base Delay (ms)</label>
		  <input id="baseDelay" type="text" placeholder="1000ms">
		</div>
		<div class="setting">
			<label>Maximum Allowed Mistakes</label>
			<input id="maxAllowedMistakes" type="text" placeholder="3">
		  </div>
		<div class="setting">
		  <label>Level Down Correct Stimuli %</label>
		  <input id="previousLevelThreshold" type="text" placeholder="40%">
		</div>
		<div class="setting">
		  <label>Level Up Correct Stimuli %</label>
		  <input id="nextLevelThreshold" type="text" placeholder="80%">
		</div>
		<div class="setting">
			<button id="reset-settings" class="setting-btn">Reset Settings</button>
		</div>
		<div class="setting">
			<button id="reset-stats" class="setting-btn">Reset Statistics</button>
		</div>
	  </div>  
	</div>
	
	<div class="game-body">
	  <div class="scene-wrapper">
		<div class="scene">
		  <div class="floor floor-bottom">
			<div class="wall-bottom-word"></div>
		  </div>
		  <div class="floor floor-left">
			<div class="wall-left-word"></div>
		  </div>
		  <div class="floor floor-right">
			<div class="wall-right-word"></div>
		  </div>
		  <div class="cube">
			<div class="face top"></div>
			<div class="face bottom"></div>
			<div class="face left"></div>
			<div class="face right"></div>
			<div class="face front"></div>
			<div class="face back"></div>
			
			<div class="inner-cube">
			  <div class="shape"></div>
			  <div class="face top"></div>
			  <div class="face bottom"></div>
			  <div class="face left"></div>
			  <div class="face right"></div>
			  <div class="face front"></div>
			  <div class="face back"></div>
			</div>
			
		  </div>
		</div>
	  </div>
	
	  <button class="btn check-walls">Walls (a)</button>
	  <button class="btn check-camera">Camera (s)</button>
	  <button class="btn check-face">Face (d)</button>
	  <button class="btn check-position">Spatial (f)</button>
	  
	  <button class="btn check-word">Word (g)</button>
	  <button class="btn check-shape">Shape (h)</button>
	  <button class="btn check-corner">Corner (j)</button>
	  <button class="btn check-sound">Sound (k)</button>
	  <button class="btn check-color">Color (l)</button>
	  <button class="btn play" onclick="play()">Play (q)</button>
	  <button class="btn stop active" onclick="stop()">Stop (p)</button>
	
	  <div class="n-back">
		N: <span id="n-back-display"></span>
	  </div>
	
	  <a class="sign" href="https://www.linkedin.com/in/f3d3r1c07r0774/">@LinkedIn</a>
	</div>	

	<script src="main.js"></script>
</body>

</html>